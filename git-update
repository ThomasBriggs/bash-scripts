#!/bin/bash

MESSAGE="Update git folder"

border()
{
    title="| $1 |"
    edge=$(echo "$title" | sed 's/./-/g')
    echo "$edge"
    echo "$title"
    echo "$edge"
}

function update {
    border $i
    git add .
    git commit -m "$MESSAGE"
    git push
    printf %"$(tput cols)"s |tr " " "-"
}

if [ $# == 0 ]
then  
    if [ -e .git ] 
    then
        update
    fi
else
    for i in $@ 
    do
        if [ -d $i ] 
        then
            cd $i
            if [ -e .git ] 
            then
                update
            fi
            cd ..
        fi
    done
fi